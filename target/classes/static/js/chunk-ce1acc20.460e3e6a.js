(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce1acc20"],{"938f":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"background-color":"white"}},[o("form",{staticClass:"d-flex justify-content-around formtitle",staticStyle:{"padding-top":"8px","padding-bottom":"8px"}},[t._m(0),o("div",{staticClass:" d-flex align-items-center"},[o("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"}}),o("button",{staticClass:"btn btn-secondary ml-1",staticStyle:{width:"50px","font-size":"12px"},attrs:{id:"likebtn",type:"button"}},[t._v("搜索")])],1)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:" d-flex align-items-end ",attrs:{id:"logimg"}},[i("img",{staticStyle:{width:"50px"},attrs:{src:o("ede7")}})])}],l={name:"SearchAndlogobox"},a=l,c=o("2877"),s=Object(c["a"])(a,i,n,!1,null,null,null);e["a"]=s.exports},"9e69":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"background-color":"white"}},[i("Navigation"),i("SearchAndlogobox"),i("div",{staticStyle:{"background-color":"#DDDDDD"}},[i("br"),i("div",{staticClass:"container",staticStyle:{height:"450px","background-color":"white","border-radius":"30px"}},[i("div",{staticClass:"d-flex align-items-center",staticStyle:{height:"80px","border-bottom":"1px solid #CCCCCC"}},[i("h4",[t._v("购物车")]),i("h4",[t._v("（全部"+t._s(t.tableData.length)+"）")])]),i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{height:"320",data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"商品信息",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"d-flex justify-content-between"},[i("img",{staticStyle:{cursor:"pointer"},attrs:{src:o("1771")("./"+e.row.commoditypicture),width:"80px",height:"65px"},on:{click:function(o){return t.commoditydetailed(e.row.commodityid)}}}),i("p",{staticClass:"ml-2",staticStyle:{width:"200px","font-size":"12px"}},[t._v(" "+t._s(e.row.commodityname))]),i("p",{staticClass:"ml-2",staticStyle:{width:"200px","font-size":"12px"}},[t._v(" 商品规格："+t._s(e.row.commodityspecification))])])]}}])}),i("el-table-column",{attrs:{prop:"commodityprice",label:"单价",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v("￥"+t._s(e.row.commodityprice))])]}}])}),i("el-table-column",{attrs:{type:"index",prop:"commoditycount",label:"数量",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{attrs:{size:"mini",min:1,max:10},on:{change:function(o){return t.addcount(e.row.id,e.row.commoditycount,e.row.commodityprice,e.$index)}},model:{value:e.row.commoditycount,callback:function(o){t.$set(e.row,"commoditycount",o)},expression:"scope.row.commoditycount"}})]}}])}),i("el-table-column",{attrs:{label:"金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{color:"#FF0000","font-weight":"bold"}},[t._v("￥"+t._s(e.row.totalprice))])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"180px",type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{icon:"el-icon-delete",type:"primary"},on:{click:function(o){return t.delshoppingtrolley(e.row.id,e.$index)}}},[t._v("删除")])]}}])})],1),i("div",{staticClass:"mt-1 d-flex align-items-center justify-content-between "},[i("span",[t._v("已选商品"+t._s(t.multipleSelection.length)+"件")]),i("div",{staticClass:"col-4 d-flex align-items-center justify-content-around"},[i("span",[t._v("金额："),i("span",{staticStyle:{color:"#F0AD4E","font-weight":"bold","font-size":"20px"}},[t._v("￥"+t._s(t.totalpriceAll))])]),i("el-button",{attrs:{type:"warning",round:""},on:{click:t.balance}},[t._v("结算")])],1)])],1)]),i("br")]),i("h1",[t._v("123123")])],1)},n=[],l=(o("a434"),o("f4dd")),a=o("938f"),c=o("b147"),s={name:"ShoppingtrolleyPage",components:{Navigation:l["a"],SearchAndlogobox:a["a"]},data:function(){return{tableData:[{commodityname:"连衣裙",commodityspecification:"红色，M",commodityprice:125,commoditycount:2,totalprice:123,commoditypicture:"imgs/ca_2.jpg"},{commodityname:"连衣裙2",commodityspecification:"红色，M",commodityprice:125,commoditycount:2,totalprice:123,commoditypicture:"imgs/ca_2.jpg"}],user:"",multipleSelection:"",shoppingtrolleyId:[],totalpriceAll:0}},methods:{commoditydetailed:function(t){this.$router.push({name:"CommoditydetailedPage",params:{id:t}})},addcount:function(t,e,o,i){var n=this,l="id="+t+"&totalprice="+o*e+"&commoditycount="+e+"&uid="+this.user.id;Object(c["Ajax"])("post","shoppingtrolley/updateShoppingCount",l,(function(t){n.tableData[i].totalprice=t.totalprice,n.totalpriceAll=0;for(var e=0;e<n.multipleSelection.length;e++)n.totalpriceAll=n.totalpriceAll+n.multipleSelection[e].totalprice}))},handleSelectionChange:function(t){this.multipleSelection=t,this.totalpriceAll=0;for(var e=0;e<this.multipleSelection.length;e++)this.totalpriceAll=this.totalpriceAll+this.multipleSelection[e].totalprice},balance:function(){var t=this;if(""!=this.multipleSelection){var e="uid="+parseInt(this.user.id);Object(c["Ajax"])("post","consigneeInfo/queryConsigneeInfouid",e,(function(e){if(""==e.consigneeaddress||""==e.consigneename||""==e.consigneephone)alert("请完善收货信息在进行购买");else{t.shoppingtrolleyId=[];for(var o=0;o<t.multipleSelection.length;o++)t.shoppingtrolleyId.push(t.multipleSelection[o].id);var i="id="+t.shoppingtrolleyId;Object(c["Ajax"])("post","shoppingtrolley/addorder",i,(function(t){alert(t.message)}))}}))}else alert("请选择商品在进行结算!")},delshoppingtrolley:function(t,e){var o=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.shoppingtrolleyId=[],o.shoppingtrolleyId+=t;var i="shoppingtrolleyId="+o.shoppingtrolleyId;Object(c["Ajax"])("post","shoppingtrolley/delShoppingtrolley",i,(function(t){1==t.success?(o.$message({message:t.message}),o.tableData.splice(e,1)):alert(t.message)}))})).catch((function(){o.$message({message:"已取消删除"})}))}},created:function(){var t=this;Object(c["Ajax"])("get","user/homePageUser",null,(function(e){t.user=e;var o="uid="+parseInt(e.id);Object(c["Ajax"])("post","shoppingtrolley/queryShoppingtrolleyuid",o,(function(e){t.tableData=e}))}))}},r=s,d=o("2877"),p=Object(d["a"])(r,i,n,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-ce1acc20.460e3e6a.js.map